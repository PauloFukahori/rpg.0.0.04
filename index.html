<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Anel Dos Quatro Reinos RPG</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <audio id="bgm-player" src="assets/audio/bgm_menu.mp3" loop autoplay></audio>
    <button id="toggle-music" class="music-toggle-button">ğŸ”Š MÃºsica ON</button>

    <header>
        <img src="assets/images/logo.png" alt="O Anel Dos Quatro Reinos RPG RPG Logo" id="main-logo">
        <h1>O Anel Dos Quatro Reinos RPG</h1>
    </header>

    <main id="game-container">
        <div id="save-feedback" class="hidden-feedback">ğŸ’¾ Jogo Salvo!</div>
    <div id="notification-popup" class="notification-popup hidden"></div>

        <section id="title-screen" class="game-screen active-screen">
            <h2 class="neon-text">Aventure-se pelos Quatro Reinos</h2>
            
            <div id="main-menu">
                <button id="newGameButton" class="menu-button">â–¶ï¸ INICIAR NOVO JOGO</button>
                <button id="loadGameButton" class="menu-button">ğŸ’¾ CONTINUAR / CARREGAR JOGO</button>
                <button id="controlsButton" class="menu-button">ğŸ•¹ï¸ CONTROLES / COMO JOGAR</button>
            </div>
        </section>

        <section id="controls-screen" class="game-screen hidden-screen">
            <h2>ğŸ•¹ï¸ Controles e Como Jogar</h2>
            
            <div class="controls-info">
                <h3>ExploraÃ§Ã£o:</h3>
                <ul>
                    <li>**Mover Esquerda/Direita (â¬…ï¸/â¡ï¸ ou A/D):** Movimenta o personagem na tela e possui uma pequena chance de encontrar um inimigo.</li>
                    <li>**Mover Cima/Baixo (â¬†ï¸/â¬‡ï¸ ou W/S):** Move verticalmente o personagem para tentar esquivar ou se posicionar.</li>
                    <li>**Pular / Esquivar (EspaÃ§o):** AnimaÃ§Ã£o de pulo para se esticar (ou aÃ§Ã£o defensiva em combate).</li>
                    <li>**Meditar/Descansar (ğŸ§˜):** Recupera PV e MP, mas pode ser interrompido por inimigos.</li>
                    <li>**Explorar Caminho (ğŸ”):** Chance de Inimigos (50%) ou Itens (30%). TambÃ©m pode iniciar um **Quiz Inesperado**.</li>
                </ul>
                
                <h3>Combate:</h3>
                <p>Durante a batalha, as aÃ§Ãµes sÃ£o:</p>
                <ul>
                    <li>**Ataque da Classe:** Habilidades que consomem MP e causam dano ao inimigo.</li>
                    <li>**Pular / Esquivar (ğŸ’¨):** AÃ§Ã£o defensiva que aumenta sua agilidade no turno.</li>
                    <li>**Tentar Fugir (ğŸƒâ€â™‚ï¸):** Tenta escapar do combate com base na sua Agilidade.</li>
                </ul>
            </div>
            
            <button id="backFromControlsButton" class="menu-button">â†©ï¸ VOLTAR AO MENU</button>
        </section>
        
        <section id="load-screen" class="game-screen hidden-screen">
            <h2>Escolha um Slot para Carregar ou Iniciar</h2>
            <div id="save-slots-list">
            </div>
            <button id="backToTitleButton" class="menu-button">â†©ï¸ VOLTAR</button>
        </section>
        
        <section id="character-creation" class="game-screen hidden-screen">
            <h2>CriaÃ§Ã£o de Personagem</h2>
            
            <div id="name-input-area">
                <label for="playerName">Nome do HerÃ³i:</label>
                <input type="text" id="playerName" placeholder="Insira seu nome aqui">
            </div>
            
            <h3>Escolha Sua Classe</h3>
            <div id="class-selection">
            </div>

            <div id="class-details">
                <p>Selecione uma classe acima para ver os atributos iniciais e o visual do personagem.</p>
            </div>

            <button id="startGameButton" disabled>ComeÃ§ar Aventura</button>
        </section>

        <section id="game-play" class="game-screen hidden-screen">
            <div id="player-status">
            </div>
            
            <div id="scenario-image">
                <div id="player-figure"></div>
                <div id="enemy-figure"></div>
                <div id="map-mobs"></div>
                <div id="mini-map" class="mini-map">
                    <div id="mini-player"></div>
                </div>
            </div>
            
            <div id="game-text">
            </div>
            
            <div id="action-buttons">
            </div>
            
            <!-- Mobile Virtual Joystick -->
            <div id="mobile-joystick" class="mobile-joystick hidden">
                <div class="joystick-container">
                    <div class="joystick-base">
                        <div class="joystick-stick"></div>
                    </div>
                    <div class="joystick-label">Mover</div>
                </div>
                <div class="mobile-action-buttons">
                    <button class="mobile-action-btn jump-btn">ğŸ’¨<br>Pular</button>
                    <button class="mobile-action-btn explore-btn">ğŸ”<br>Explorar</button>
                    <button class="mobile-action-btn meditate-btn">ğŸ§˜<br>Meditar</button>
                </div>
            </div>
        </section>

        <section id="quiz-screen" class="game-screen hidden-screen">
            <h2 id="quiz-title" class="neon-text">ğŸ¤” Teste de Conhecimento</h2>
            
            <div id="quiz-content" class="controls-info">
                <p id="quiz-question" style="font-size: 1.2em; margin-bottom: 20px;"></p>
                <div id="quiz-options"></div>
                <p id="quiz-feedback" style="margin-top: 15px; font-weight: bold;"></p>
            </div>
            
            <button id="quizBackButton" class="menu-button" style="margin-top: 20px;">â†©ï¸ Continuar</button>
        </section>

        <section id="shop-screen" class="game-screen hidden-screen">
            <h2 class="neon-text">ğŸ›ï¸ Loja do Viajante</h2>
            <p id="shop-player-money" style="font-size: 1.2em; margin-bottom: 20px;">Seu Ouro: 0 ğŸ’°</p>
            <div id="shop-items-list" style="width: 100%; max-width: 700px;">
                </div>
            <p id="shop-feedback" style="margin-top: 15px; font-weight: bold;"></p>
            <button id="backToExplorationButton" class="menu-button" style="margin-top: 20px;" onclick="loadPhase(gameState.currentPhase)">â†©ï¸ Voltar Ã  ExploraÃ§Ã£o</button>
        </section>
        
    </main>
    
    <script src="script.js"></script>
</body>
</html>